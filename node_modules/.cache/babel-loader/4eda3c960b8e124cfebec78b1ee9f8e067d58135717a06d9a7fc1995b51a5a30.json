{"ast":null,"code":"import _slicedToArray from\"D:/Coding/React/taskmybusiness/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useRef}from\"react\";import ProjectList from\"../projectList/projectList\";import{useAddTodoMutation}from\"../../utils/firebase/firebase-utils\";import\"./project-add.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var now=new Date();var year=now.getFullYear();var month=String(now.getMonth()+1).padStart(2,\"0\");var day=String(now.getDate()).padStart(2,\"0\");var formattedDate=\"\".concat(day,\"-\").concat(month,\"-\").concat(year,\" \");function ProjectAdd(){//////////////////////////////////\nvar childRef=useRef(null);var projectNameRef=useRef(\"\");var deadLineRef=useRef(\"\");var _useState=useState(\"Add Project\"),_useState2=_slicedToArray(_useState,2),button=_useState2[0],setButton=_useState2[1];var _useState3=useState(\"hide\"),_useState4=_slicedToArray(_useState3,2),showHide=_useState4[0],setShowHide=_useState4[1];var _useAddTodoMutation=useAddTodoMutation(),_useAddTodoMutation2=_slicedToArray(_useAddTodoMutation,1),addTodo=_useAddTodoMutation2[0];/////////////////////////////////////////////////\nfunction onSaveProjectDetailsHandler(inputProjectDetails){var projectData={projectName:inputProjectDetails.projectName,startingDate:formattedDate,deadLine:inputProjectDetails.deadLine};addTodo(projectData);////calling refetch from projectList////\nvar handleParentSubmit=function handleParentSubmit(){childRef.current.reFetch();};handleParentSubmit();}/////////////////////////////////////\nfunction showHideFunc(){if(button===\"Add Project\"){setShowHide(\"show\");}else{setShowHide(\"hide\");}}////////////////////////\nfunction submitHandler(event){event.preventDefault();if(showHide===\"hide\"){var projectDetails={projectName:projectNameRef.current.value,startingDate:formattedDate,deadLine:deadLineRef.current.value};onSaveProjectDetailsHandler(projectDetails);projectNameRef.current.value=\"\";// startingDateRef.current.value = \"\";\ndeadLineRef.current.value=\"\";}else return;}//////////////////////////\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,className:\"project-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-fields\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Project Name\"}),/*#__PURE__*/_jsx(\"input\",{className:showHide,required:true,ref:projectNameRef,type:\"text\",placeholder:\"Project name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-fields\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Starting date\"}),/*#__PURE__*/_jsx(\"h5\",{className:showHide,children:formattedDate})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-fields\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Dead Line\"}),/*#__PURE__*/_jsx(\"input\",{className:showHide,ref:deadLineRef,type:\"text\",placeholder:\"Dead line\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"addProjectButton\",type:\"submit\",onClick:function onClick(){showHideFunc();button===\"Add Project\"?setButton(\"submit\"):setButton(\"Add Project\");},children:button})]}),/*#__PURE__*/_jsx(ProjectList,{ref:childRef// projectDetails={projectDetails}\n})]});}export default ProjectAdd;","map":{"version":3,"names":["useState","useRef","ProjectList","useAddTodoMutation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","now","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","formattedDate","concat","ProjectAdd","childRef","projectNameRef","deadLineRef","_useState","_useState2","_slicedToArray","button","setButton","_useState3","_useState4","showHide","setShowHide","_useAddTodoMutation","_useAddTodoMutation2","addTodo","onSaveProjectDetailsHandler","inputProjectDetails","projectData","projectName","startingDate","deadLine","handleParentSubmit","current","reFetch","showHideFunc","submitHandler","event","preventDefault","projectDetails","value","children","onSubmit","className","required","ref","type","placeholder","onClick"],"sources":["D:/Coding/React/taskmybusiness/src/components/projectAdd/project-add.jsx"],"sourcesContent":["import { useState, useRef } from \"react\";\r\nimport ProjectList from \"../projectList/projectList\";\r\nimport { useAddTodoMutation } from \"../../utils/firebase/firebase-utils\";\r\nimport \"./project-add.scss\";\r\n\r\nconst now = new Date();\r\nconst year = now.getFullYear();\r\nconst month = String(now.getMonth() + 1).padStart(2, \"0\");\r\nconst day = String(now.getDate()).padStart(2, \"0\");\r\nconst formattedDate = `${day}-${month}-${year} `;\r\n\r\nfunction ProjectAdd() {\r\n  //////////////////////////////////\r\n  const childRef = useRef(null);\r\n  const projectNameRef = useRef(\"\");\r\n  const deadLineRef = useRef(\"\");\r\n  const [button, setButton] = useState(\"Add Project\");\r\n  const [showHide, setShowHide] = useState(\"hide\");\r\n  const [addTodo] = useAddTodoMutation();\r\n  /////////////////////////////////////////////////\r\n\r\n  function onSaveProjectDetailsHandler(inputProjectDetails) {\r\n    let projectData = {\r\n      projectName: inputProjectDetails.projectName,\r\n      startingDate: formattedDate,\r\n      deadLine: inputProjectDetails.deadLine,\r\n    };\r\n    addTodo(projectData);\r\n    ////calling refetch from projectList////\r\n    const handleParentSubmit = () => {\r\n      childRef.current.reFetch();\r\n    };\r\n    handleParentSubmit();\r\n  }\r\n\r\n  /////////////////////////////////////\r\n  function showHideFunc() {\r\n    if (button === \"Add Project\") {\r\n      setShowHide(\"show\");\r\n    } else {\r\n      setShowHide(\"hide\");\r\n    }\r\n  }\r\n  ////////////////////////\r\n\r\n  function submitHandler(event) {\r\n    event.preventDefault();\r\n    if (showHide === \"hide\") {\r\n      const projectDetails = {\r\n        projectName: projectNameRef.current.value,\r\n        startingDate: formattedDate,\r\n        deadLine: deadLineRef.current.value,\r\n      };\r\n\r\n      onSaveProjectDetailsHandler(projectDetails);\r\n      projectNameRef.current.value = \"\";\r\n      // startingDateRef.current.value = \"\";\r\n      deadLineRef.current.value = \"\";\r\n    } else return;\r\n  }\r\n  //////////////////////////\r\n  return (\r\n    <>\r\n      <form onSubmit={submitHandler} className=\"project-list\">\r\n        <div className=\"input-fields\">\r\n          <h4>Project Name</h4>\r\n          <input\r\n            className={showHide}\r\n            required\r\n            ref={projectNameRef}\r\n            type=\"text\"\r\n            placeholder=\"Project name\"\r\n          />\r\n        </div>\r\n        <div className=\"input-fields\">\r\n          <h4>Starting date</h4>\r\n          <h5 className={showHide}>{formattedDate}</h5>\r\n        </div>\r\n        <div className=\"input-fields\">\r\n          <h4>Dead Line</h4>\r\n          <input\r\n            className={showHide}\r\n            ref={deadLineRef}\r\n            type=\"text\"\r\n            placeholder=\"Dead line\"\r\n          ></input>\r\n        </div>\r\n        <button\r\n          className=\"addProjectButton\"\r\n          type=\"submit\"\r\n          onClick={() => {\r\n            showHideFunc();\r\n            button === \"Add Project\"\r\n              ? setButton(\"submit\")\r\n              : setButton(\"Add Project\");\r\n          }}\r\n        >\r\n          {button}\r\n        </button>\r\n      </form>\r\n      <ProjectList\r\n        ref={childRef}\r\n        // projectDetails={projectDetails}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ProjectAdd;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}