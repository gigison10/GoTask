{"ast":null,"code":"import _objectSpread from\"D:/Coding/React/taskmybusiness/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Coding/React/taskmybusiness/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useState,useEffect}from\"react\";import{onAuthStateChangedListener// createUserDocumentFromAuth,\n}from\"../utils/firebase/firebase-utils.js\";import{jsx as _jsx}from\"react/jsx-runtime\";export var UserContext=/*#__PURE__*/createContext({currentUserId:null,setCurrentUserId:function setCurrentUserId(){return null;}});export var UserProvider=function UserProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentUserId=_useState2[0],setCurrentUserId=_useState2[1];var value={currentUserId:currentUserId,setCurrentUserId:setCurrentUserId};// const [count, setCount] = useState(1);\nuseEffect(function(){var unsubscribe=onAuthStateChangedListener(function(user){if(user){// createUserDocumentFromAuth(user);\nsetCurrentUserId(user.uid);}else{}setCurrentUserId(user);});return unsubscribe;},[currentUserId]);return/*#__PURE__*/_jsx(UserContext.Provider,{value:_objectSpread({},value),children:children});};","map":{"version":3,"names":["createContext","useState","useEffect","onAuthStateChangedListener","jsx","_jsx","UserContext","currentUserId","setCurrentUserId","UserProvider","_ref","children","_useState","_useState2","_slicedToArray","value","unsubscribe","user","uid","Provider","_objectSpread"],"sources":["D:/Coding/React/taskmybusiness/src/contexts/context.js"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\r\nimport {\r\n  onAuthStateChangedListener,\r\n  // createUserDocumentFromAuth,\r\n} from \"../utils/firebase/firebase-utils.js\";\r\n\r\nexport const UserContext = createContext({\r\n  currentUserId: null,\r\n  setCurrentUserId: () => null,\r\n});\r\n\r\nexport const UserProvider = ({ children }) => {\r\n  const [currentUserId, setCurrentUserId] = useState(null);\r\n  const value = { currentUserId, setCurrentUserId };\r\n\r\n  // const [count, setCount] = useState(1);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChangedListener((user) => {\r\n      if (user) {\r\n        // createUserDocumentFromAuth(user);\r\n        setCurrentUserId(user.uid);\r\n      } else {\r\n      }\r\n      setCurrentUserId(user);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [currentUserId]);\r\n\r\n  return (\r\n    <UserContext.Provider value={{ ...value }}>{children}</UserContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"uOAAA,OAASA,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC1D,OACEC,0BACA;AAAA,KACK,qCAAqC,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE7C,MAAO,IAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,CACvCO,aAAa,CAAE,IAAI,CACnBC,gBAAgB,CAAE,SAAAA,iBAAA,QAAM,KAAI,EAC9B,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACrC,IAAAC,SAAA,CAA0CX,QAAQ,CAAC,IAAI,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjDL,aAAa,CAAAM,UAAA,IAAEL,gBAAgB,CAAAK,UAAA,IACtC,GAAM,CAAAE,KAAK,CAAG,CAAER,aAAa,CAAbA,aAAa,CAAEC,gBAAgB,CAAhBA,gBAAiB,CAAC,CAEjD;AAEAN,SAAS,CAAC,UAAM,CACd,GAAM,CAAAc,WAAW,CAAGb,0BAA0B,CAAC,SAACc,IAAI,CAAK,CACvD,GAAIA,IAAI,CAAE,CACR;AACAT,gBAAgB,CAACS,IAAI,CAACC,GAAG,CAAC,CAC5B,CAAC,IAAM,CACP,CACAV,gBAAgB,CAACS,IAAI,CAAC,CACxB,CAAC,CAAC,CAEF,MAAO,CAAAD,WAAW,CACpB,CAAC,CAAE,CAACT,aAAa,CAAC,CAAC,CAEnB,mBACEF,IAAA,CAACC,WAAW,CAACa,QAAQ,EAACJ,KAAK,CAAAK,aAAA,IAAOL,KAAK,CAAG,CAAAJ,QAAA,CAAEA,QAAQ,CAAuB,CAAC,CAEhF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}