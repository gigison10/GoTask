{"ast":null,"code":"import _regeneratorRuntime from\"D:/Coding/React/taskmybusiness/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Coding/React/taskmybusiness/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/Coding/React/taskmybusiness/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Coding/React/taskmybusiness/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Coding/React/taskmybusiness/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./log-in.scss\";import{signInWithGooglePopup,signInAuthUserWithEmailAndPassword}from\"../../utils/firebase/firebase-utils\";import{useState,useEffect,useRef,Fragment}from\"react\";import{X}from\"../../assets/icons.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var defaultFormFields={email:\"\",password:\"\"};function LogIn(){var _useState=useState(defaultFormFields),_useState2=_slicedToArray(_useState,2),formFields=_useState2[0],setFormFields=_useState2[1];var email=formFields.email,password=formFields.password;var resetFormFields=function resetFormFields(){setFormFields(defaultFormFields);};function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormFields(_objectSpread(_objectSpread({},formFields),{},_defineProperty({},name,value)));}//~~~ Log In Forms ///\nvar logGoogleUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:popup();_context.next=3;return signInWithGooglePopup();case 3:case\"end\":return _context.stop();}},_callee);}));return function logGoogleUser(_x){return _ref.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var _yield$signInAuthUser,user;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.prev=1;_context2.next=4;return signInAuthUserWithEmailAndPassword(email,password);case 4:_yield$signInAuthUser=_context2.sent;user=_yield$signInAuthUser.user;resetFormFields();_context2.next=11;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[1,9]]);}));return function handleSubmit(_x2){return _ref2.apply(this,arguments);};}();////////////////////////////////////////////////////////\nvar _useState3=useState(\"hide\"),_useState4=_slicedToArray(_useState3,2),showHide=_useState4[0],setShowHide=_useState4[1];var popupRef=useRef();useEffect(function(){var handler=function handler(e){// console.log(popupRef.current.contains(e.target));\nif(!popupRef.current.contains(e.target)){setShowHide(\"hide\");resetFormFields();}};document.addEventListener(\"mousedown\",handler);return function(){document.removeEventListener(\"mousedown\",handler);};});function popup(){if(showHide===\"hide\"){setShowHide(\"show\");}else{setShowHide(\"hide\");resetFormFields();}}///////////////////////////////////////////////////\nreturn/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"log-button\",onClick:popup,children:\"Log-in\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(showHide),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup\",ref:popupRef,children:[/*#__PURE__*/_jsx(\"div\",{onClick:popup,children:/*#__PURE__*/_jsx(X,{})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Log in\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputBlock\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,onChange:handleChange,name:\"email\",value:email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputBlock\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:handleChange,name:\"password\",value:password})]}),/*#__PURE__*/_jsx(\"button\",{className:\"submitbutton\",type:\"submit\",children:\"SUBMIT\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"googleAuthButton\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"googleIcon\",src:require(\"../../assets/googleIcon.png\"),alt:\"/\"}),/*#__PURE__*/_jsx(\"h3\",{onClick:logGoogleUser,children:\"Or continue with Google\"})]})]})})]});}export default LogIn;","map":{"version":3,"names":["signInWithGooglePopup","signInAuthUserWithEmailAndPassword","useState","useEffect","useRef","Fragment","X","jsx","_jsx","jsxs","_jsxs","defaultFormFields","email","password","LogIn","_useState","_useState2","_slicedToArray","formFields","setFormFields","resetFormFields","handleChange","event","_event$target","target","name","value","_objectSpread","_defineProperty","logGoogleUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","popup","stop","_x","apply","arguments","handleSubmit","_ref2","_callee2","_yield$signInAuthUser","user","_callee2$","_context2","preventDefault","sent","t0","_x2","_useState3","_useState4","showHide","setShowHide","popupRef","handler","e","current","contains","document","addEventListener","removeEventListener","children","className","onClick","concat","ref","onSubmit","type","required","onChange","src","require","alt"],"sources":["D:/Coding/React/taskmybusiness/src/components/log-in/log-in.jsx"],"sourcesContent":["import \"./log-in.scss\";\r\nimport {\r\n  signInWithGooglePopup,\r\n  signInAuthUserWithEmailAndPassword,\r\n} from \"../../utils/firebase/firebase-utils\";\r\n\r\nimport { useState, useEffect, useRef, Fragment } from \"react\";\r\nimport { X } from \"../../assets/icons.jsx\";\r\n\r\nconst defaultFormFields = {\r\n  email: \"\",\r\n  password: \"\",\r\n};\r\n\r\nfunction LogIn() {\r\n  const [formFields, setFormFields] = useState(defaultFormFields);\r\n  const { email, password } = formFields;\r\n\r\n  const resetFormFields = () => {\r\n    setFormFields(defaultFormFields);\r\n  };\r\n  function handleChange(event) {\r\n    const { name, value } = event.target;\r\n    setFormFields({ ...formFields, [name]: value });\r\n  }\r\n\r\n  //~~~ Log In Forms ///\r\n  const logGoogleUser = async (event) => {\r\n    popup();\r\n    await signInWithGooglePopup();\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const { user } = await signInAuthUserWithEmailAndPassword(\r\n        email,\r\n        password\r\n      );\r\n      resetFormFields();\r\n    } catch (error) {}\r\n  };\r\n\r\n  ////////////////////////////////////////////////////////\r\n  const [showHide, setShowHide] = useState(\"hide\");\r\n  let popupRef = useRef();\r\n  useEffect(() => {\r\n    let handler = (e) => {\r\n      // console.log(popupRef.current.contains(e.target));\r\n      if (!popupRef.current.contains(e.target)) {\r\n        setShowHide(\"hide\");\r\n        resetFormFields();\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handler);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handler);\r\n    };\r\n  });\r\n\r\n  function popup() {\r\n    if (showHide === \"hide\") {\r\n      setShowHide(\"show\");\r\n    } else {\r\n      setShowHide(\"hide\");\r\n      resetFormFields();\r\n    }\r\n  }\r\n  ///////////////////////////////////////////////////\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"log-button\" onClick={popup}>\r\n        Log-in\r\n      </div>\r\n\r\n      <div className={`${showHide}`}>\r\n        <div className=\"popup\" ref={popupRef}>\r\n          <div onClick={popup}>\r\n            <X></X>\r\n          </div>\r\n          <form onSubmit={handleSubmit}>\r\n            <h1>Log in</h1>\r\n            <div className=\"inputBlock\">\r\n              <label>Email address</label>\r\n              <input\r\n                type=\"text\"\r\n                required\r\n                onChange={handleChange}\r\n                name=\"email\"\r\n                value={email}\r\n              ></input>\r\n            </div>\r\n            <div className=\"inputBlock\">\r\n              <label>Password</label>\r\n              <input\r\n                type=\"password\"\r\n                onChange={handleChange}\r\n                name=\"password\"\r\n                value={password}\r\n              ></input>\r\n            </div>\r\n\r\n            <button className=\"submitbutton\" type=\"submit\">\r\n              SUBMIT\r\n            </button>\r\n          </form>\r\n\r\n          <div className=\"googleAuthButton\">\r\n            <img\r\n              className=\"googleIcon\"\r\n              src={require(\"../../assets/googleIcon.png\")}\r\n              alt=\"/\"\r\n            />\r\n            <h3 onClick={logGoogleUser}>Or continue with Google</h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default LogIn;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}