{"ast":null,"code":"/*! firebase-admin v11.9.0 */\n\"use strict\";\n\n/*!\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SecurityRulesApiClient = void 0;\nconst api_request_1 = require(\"../utils/api-request\");\nconst error_1 = require(\"../utils/error\");\nconst security_rules_internal_1 = require(\"./security-rules-internal\");\nconst utils = require(\"../utils/index\");\nconst validator = require(\"../utils/validator\");\nconst RULES_V1_API = 'https://firebaserules.googleapis.com/v1';\nconst FIREBASE_VERSION_HEADER = {\n  'X-Firebase-Client': `fire-admin-node/${utils.getSdkVersion()}`\n};\n/**\n * Class that facilitates sending requests to the Firebase security rules backend API.\n *\n * @private\n */\nclass SecurityRulesApiClient {\n  constructor(app) {\n    this.app = app;\n    if (!validator.isNonNullObject(app) || !('options' in app)) {\n      throw new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'First argument passed to admin.securityRules() must be a valid Firebase app ' + 'instance.');\n    }\n    this.httpClient = new api_request_1.AuthorizedHttpClient(app);\n  }\n  getRuleset(name) {\n    return Promise.resolve().then(() => {\n      return this.getRulesetName(name);\n    }).then(rulesetName => {\n      return this.getResource(rulesetName);\n    });\n  }\n  createRuleset(ruleset) {\n    if (!validator.isNonNullObject(ruleset) || !validator.isNonNullObject(ruleset.source) || !validator.isNonEmptyArray(ruleset.source.files)) {\n      const err = new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'Invalid rules content.');\n      return Promise.reject(err);\n    }\n    for (const rf of ruleset.source.files) {\n      if (!validator.isNonNullObject(rf) || !validator.isNonEmptyString(rf.name) || !validator.isNonEmptyString(rf.content)) {\n        const err = new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', `Invalid rules file argument: ${JSON.stringify(rf)}`);\n        return Promise.reject(err);\n      }\n    }\n    return this.getUrl().then(url => {\n      const request = {\n        method: 'POST',\n        url: `${url}/rulesets`,\n        data: ruleset\n      };\n      return this.sendRequest(request);\n    });\n  }\n  deleteRuleset(name) {\n    return this.getUrl().then(url => {\n      const rulesetName = this.getRulesetName(name);\n      const request = {\n        method: 'DELETE',\n        url: `${url}/${rulesetName}`\n      };\n      return this.sendRequest(request);\n    });\n  }\n  listRulesets() {\n    let pageSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;\n    let pageToken = arguments.length > 1 ? arguments[1] : undefined;\n    if (!validator.isNumber(pageSize)) {\n      const err = new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'Invalid page size.');\n      return Promise.reject(err);\n    }\n    if (pageSize < 1 || pageSize > 100) {\n      const err = new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'Page size must be between 1 and 100.');\n      return Promise.reject(err);\n    }\n    if (typeof pageToken !== 'undefined' && !validator.isNonEmptyString(pageToken)) {\n      const err = new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'Next page token must be a non-empty string.');\n      return Promise.reject(err);\n    }\n    const data = {\n      pageSize,\n      pageToken\n    };\n    if (!pageToken) {\n      delete data.pageToken;\n    }\n    return this.getUrl().then(url => {\n      const request = {\n        method: 'GET',\n        url: `${url}/rulesets`,\n        data\n      };\n      return this.sendRequest(request);\n    });\n  }\n  getRelease(name) {\n    return this.getResource(`releases/${name}`);\n  }\n  updateOrCreateRelease(name, rulesetName) {\n    return this.updateRelease(name, rulesetName).catch(error => {\n      // if ruleset update failed with a NOT_FOUND error, attempt to create instead.\n      if (error.code === `security-rules/${ERROR_CODE_MAPPING.NOT_FOUND}`) {\n        return this.createRelease(name, rulesetName);\n      }\n      throw error;\n    });\n  }\n  updateRelease(name, rulesetName) {\n    return this.getUrl().then(url => {\n      return this.getReleaseDescription(name, rulesetName).then(release => {\n        const request = {\n          method: 'PATCH',\n          url: `${url}/releases/${name}`,\n          data: {\n            release\n          }\n        };\n        return this.sendRequest(request);\n      });\n    });\n  }\n  createRelease(name, rulesetName) {\n    return this.getUrl().then(url => {\n      return this.getReleaseDescription(name, rulesetName).then(release => {\n        const request = {\n          method: 'POST',\n          url: `${url}/releases`,\n          data: release\n        };\n        return this.sendRequest(request);\n      });\n    });\n  }\n  getUrl() {\n    return this.getProjectIdPrefix().then(projectIdPrefix => {\n      return `${RULES_V1_API}/${projectIdPrefix}`;\n    });\n  }\n  getProjectIdPrefix() {\n    if (this.projectIdPrefix) {\n      return Promise.resolve(this.projectIdPrefix);\n    }\n    return utils.findProjectId(this.app).then(projectId => {\n      if (!validator.isNonEmptyString(projectId)) {\n        throw new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'Failed to determine project ID. Initialize the SDK with service account credentials, or ' + 'set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT ' + 'environment variable.');\n      }\n      this.projectIdPrefix = `projects/${projectId}`;\n      return this.projectIdPrefix;\n    });\n  }\n  /**\n   * Gets the specified resource from the rules API. Resource names must be the short names without project\n   * ID prefix (e.g. `rulesets/ruleset-name`).\n   *\n   * @param {string} name Full qualified name of the resource to get.\n   * @returns {Promise<T>} A promise that fulfills with the resource.\n   */\n  getResource(name) {\n    return this.getUrl().then(url => {\n      const request = {\n        method: 'GET',\n        url: `${url}/${name}`\n      };\n      return this.sendRequest(request);\n    });\n  }\n  getReleaseDescription(name, rulesetName) {\n    return this.getProjectIdPrefix().then(projectIdPrefix => {\n      return {\n        name: `${projectIdPrefix}/releases/${name}`,\n        rulesetName: `${projectIdPrefix}/${this.getRulesetName(rulesetName)}`\n      };\n    });\n  }\n  getRulesetName(name) {\n    if (!validator.isNonEmptyString(name)) {\n      throw new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'Ruleset name must be a non-empty string.');\n    }\n    if (name.indexOf('/') !== -1) {\n      throw new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'Ruleset name must not contain any \"/\" characters.');\n    }\n    return `rulesets/${name}`;\n  }\n  sendRequest(request) {\n    request.headers = FIREBASE_VERSION_HEADER;\n    return this.httpClient.send(request).then(resp => {\n      return resp.data;\n    }).catch(err => {\n      throw this.toFirebaseError(err);\n    });\n  }\n  toFirebaseError(err) {\n    if (err instanceof error_1.PrefixedFirebaseError) {\n      return err;\n    }\n    const response = err.response;\n    if (!response.isJson()) {\n      return new security_rules_internal_1.FirebaseSecurityRulesError('unknown-error', `Unexpected response with status: ${response.status} and body: ${response.text}`);\n    }\n    const error = response.data.error || {};\n    let code = 'unknown-error';\n    if (error.status && error.status in ERROR_CODE_MAPPING) {\n      code = ERROR_CODE_MAPPING[error.status];\n    }\n    const message = error.message || `Unknown server error: ${response.text}`;\n    return new security_rules_internal_1.FirebaseSecurityRulesError(code, message);\n  }\n}\nexports.SecurityRulesApiClient = SecurityRulesApiClient;\nconst ERROR_CODE_MAPPING = {\n  INVALID_ARGUMENT: 'invalid-argument',\n  NOT_FOUND: 'not-found',\n  RESOURCE_EXHAUSTED: 'resource-exhausted',\n  UNAUTHENTICATED: 'authentication-error',\n  UNKNOWN: 'unknown-error'\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","SecurityRulesApiClient","api_request_1","require","error_1","security_rules_internal_1","utils","validator","RULES_V1_API","FIREBASE_VERSION_HEADER","getSdkVersion","constructor","app","isNonNullObject","FirebaseSecurityRulesError","httpClient","AuthorizedHttpClient","getRuleset","name","Promise","resolve","then","getRulesetName","rulesetName","getResource","createRuleset","ruleset","source","isNonEmptyArray","files","err","reject","rf","isNonEmptyString","content","JSON","stringify","getUrl","url","request","method","data","sendRequest","deleteRuleset","listRulesets","pageSize","arguments","length","undefined","pageToken","isNumber","getRelease","updateOrCreateRelease","updateRelease","catch","error","code","ERROR_CODE_MAPPING","NOT_FOUND","createRelease","getReleaseDescription","release","getProjectIdPrefix","projectIdPrefix","findProjectId","projectId","indexOf","headers","send","resp","toFirebaseError","PrefixedFirebaseError","response","isJson","status","text","message","INVALID_ARGUMENT","RESOURCE_EXHAUSTED","UNAUTHENTICATED","UNKNOWN"],"sources":["D:/Coding/React/taskmybusiness/node_modules/firebase-admin/lib/security-rules/security-rules-api-client-internal.js"],"sourcesContent":["/*! firebase-admin v11.9.0 */\n\"use strict\";\n/*!\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SecurityRulesApiClient = void 0;\nconst api_request_1 = require(\"../utils/api-request\");\nconst error_1 = require(\"../utils/error\");\nconst security_rules_internal_1 = require(\"./security-rules-internal\");\nconst utils = require(\"../utils/index\");\nconst validator = require(\"../utils/validator\");\nconst RULES_V1_API = 'https://firebaserules.googleapis.com/v1';\nconst FIREBASE_VERSION_HEADER = {\n    'X-Firebase-Client': `fire-admin-node/${utils.getSdkVersion()}`,\n};\n/**\n * Class that facilitates sending requests to the Firebase security rules backend API.\n *\n * @private\n */\nclass SecurityRulesApiClient {\n    constructor(app) {\n        this.app = app;\n        if (!validator.isNonNullObject(app) || !('options' in app)) {\n            throw new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'First argument passed to admin.securityRules() must be a valid Firebase app '\n                + 'instance.');\n        }\n        this.httpClient = new api_request_1.AuthorizedHttpClient(app);\n    }\n    getRuleset(name) {\n        return Promise.resolve()\n            .then(() => {\n            return this.getRulesetName(name);\n        })\n            .then((rulesetName) => {\n            return this.getResource(rulesetName);\n        });\n    }\n    createRuleset(ruleset) {\n        if (!validator.isNonNullObject(ruleset) ||\n            !validator.isNonNullObject(ruleset.source) ||\n            !validator.isNonEmptyArray(ruleset.source.files)) {\n            const err = new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'Invalid rules content.');\n            return Promise.reject(err);\n        }\n        for (const rf of ruleset.source.files) {\n            if (!validator.isNonNullObject(rf) ||\n                !validator.isNonEmptyString(rf.name) ||\n                !validator.isNonEmptyString(rf.content)) {\n                const err = new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', `Invalid rules file argument: ${JSON.stringify(rf)}`);\n                return Promise.reject(err);\n            }\n        }\n        return this.getUrl()\n            .then((url) => {\n            const request = {\n                method: 'POST',\n                url: `${url}/rulesets`,\n                data: ruleset,\n            };\n            return this.sendRequest(request);\n        });\n    }\n    deleteRuleset(name) {\n        return this.getUrl()\n            .then((url) => {\n            const rulesetName = this.getRulesetName(name);\n            const request = {\n                method: 'DELETE',\n                url: `${url}/${rulesetName}`,\n            };\n            return this.sendRequest(request);\n        });\n    }\n    listRulesets(pageSize = 100, pageToken) {\n        if (!validator.isNumber(pageSize)) {\n            const err = new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'Invalid page size.');\n            return Promise.reject(err);\n        }\n        if (pageSize < 1 || pageSize > 100) {\n            const err = new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'Page size must be between 1 and 100.');\n            return Promise.reject(err);\n        }\n        if (typeof pageToken !== 'undefined' && !validator.isNonEmptyString(pageToken)) {\n            const err = new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'Next page token must be a non-empty string.');\n            return Promise.reject(err);\n        }\n        const data = {\n            pageSize,\n            pageToken,\n        };\n        if (!pageToken) {\n            delete data.pageToken;\n        }\n        return this.getUrl()\n            .then((url) => {\n            const request = {\n                method: 'GET',\n                url: `${url}/rulesets`,\n                data,\n            };\n            return this.sendRequest(request);\n        });\n    }\n    getRelease(name) {\n        return this.getResource(`releases/${name}`);\n    }\n    updateOrCreateRelease(name, rulesetName) {\n        return this.updateRelease(name, rulesetName).catch((error) => {\n            // if ruleset update failed with a NOT_FOUND error, attempt to create instead.\n            if (error.code === `security-rules/${ERROR_CODE_MAPPING.NOT_FOUND}`) {\n                return this.createRelease(name, rulesetName);\n            }\n            throw error;\n        });\n    }\n    updateRelease(name, rulesetName) {\n        return this.getUrl()\n            .then((url) => {\n            return this.getReleaseDescription(name, rulesetName)\n                .then((release) => {\n                const request = {\n                    method: 'PATCH',\n                    url: `${url}/releases/${name}`,\n                    data: { release },\n                };\n                return this.sendRequest(request);\n            });\n        });\n    }\n    createRelease(name, rulesetName) {\n        return this.getUrl()\n            .then((url) => {\n            return this.getReleaseDescription(name, rulesetName)\n                .then((release) => {\n                const request = {\n                    method: 'POST',\n                    url: `${url}/releases`,\n                    data: release,\n                };\n                return this.sendRequest(request);\n            });\n        });\n    }\n    getUrl() {\n        return this.getProjectIdPrefix()\n            .then((projectIdPrefix) => {\n            return `${RULES_V1_API}/${projectIdPrefix}`;\n        });\n    }\n    getProjectIdPrefix() {\n        if (this.projectIdPrefix) {\n            return Promise.resolve(this.projectIdPrefix);\n        }\n        return utils.findProjectId(this.app)\n            .then((projectId) => {\n            if (!validator.isNonEmptyString(projectId)) {\n                throw new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'Failed to determine project ID. Initialize the SDK with service account credentials, or '\n                    + 'set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT '\n                    + 'environment variable.');\n            }\n            this.projectIdPrefix = `projects/${projectId}`;\n            return this.projectIdPrefix;\n        });\n    }\n    /**\n     * Gets the specified resource from the rules API. Resource names must be the short names without project\n     * ID prefix (e.g. `rulesets/ruleset-name`).\n     *\n     * @param {string} name Full qualified name of the resource to get.\n     * @returns {Promise<T>} A promise that fulfills with the resource.\n     */\n    getResource(name) {\n        return this.getUrl()\n            .then((url) => {\n            const request = {\n                method: 'GET',\n                url: `${url}/${name}`,\n            };\n            return this.sendRequest(request);\n        });\n    }\n    getReleaseDescription(name, rulesetName) {\n        return this.getProjectIdPrefix()\n            .then((projectIdPrefix) => {\n            return {\n                name: `${projectIdPrefix}/releases/${name}`,\n                rulesetName: `${projectIdPrefix}/${this.getRulesetName(rulesetName)}`,\n            };\n        });\n    }\n    getRulesetName(name) {\n        if (!validator.isNonEmptyString(name)) {\n            throw new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'Ruleset name must be a non-empty string.');\n        }\n        if (name.indexOf('/') !== -1) {\n            throw new security_rules_internal_1.FirebaseSecurityRulesError('invalid-argument', 'Ruleset name must not contain any \"/\" characters.');\n        }\n        return `rulesets/${name}`;\n    }\n    sendRequest(request) {\n        request.headers = FIREBASE_VERSION_HEADER;\n        return this.httpClient.send(request)\n            .then((resp) => {\n            return resp.data;\n        })\n            .catch((err) => {\n            throw this.toFirebaseError(err);\n        });\n    }\n    toFirebaseError(err) {\n        if (err instanceof error_1.PrefixedFirebaseError) {\n            return err;\n        }\n        const response = err.response;\n        if (!response.isJson()) {\n            return new security_rules_internal_1.FirebaseSecurityRulesError('unknown-error', `Unexpected response with status: ${response.status} and body: ${response.text}`);\n        }\n        const error = response.data.error || {};\n        let code = 'unknown-error';\n        if (error.status && error.status in ERROR_CODE_MAPPING) {\n            code = ERROR_CODE_MAPPING[error.status];\n        }\n        const message = error.message || `Unknown server error: ${response.text}`;\n        return new security_rules_internal_1.FirebaseSecurityRulesError(code, message);\n    }\n}\nexports.SecurityRulesApiClient = SecurityRulesApiClient;\nconst ERROR_CODE_MAPPING = {\n    INVALID_ARGUMENT: 'invalid-argument',\n    NOT_FOUND: 'not-found',\n    RESOURCE_EXHAUSTED: 'resource-exhausted',\n    UNAUTHENTICATED: 'authentication-error',\n    UNKNOWN: 'unknown-error',\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}