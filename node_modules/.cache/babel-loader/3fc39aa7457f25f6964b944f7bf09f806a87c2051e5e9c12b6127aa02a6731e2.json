{"ast":null,"code":"import _objectSpread from\"D:/Coding/React/taskmybusiness/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/Coding/React/taskmybusiness/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Coding/React/taskmybusiness/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{initializeApp}from\"firebase/app\";import{createApi,fetchBaseQuery}from\"@reduxjs/toolkit/query/react\";import{getAuth,signInWithPopup,GoogleAuthProvider,createUserWithEmailAndPassword,signInWithEmailAndPassword,signOut,onAuthStateChanged}from\"firebase/auth\";import{getFirestore,doc,getDoc,getDocs,setDoc,collection}from\"firebase/firestore\";var firebaseConfig={apiKey:\"AIzaSyDg0a3RsAo0iIaAJzwTjd7vHvGLWXqzZ00\",authDomain:\"gotask-973a8.firebaseapp.com\",projectId:\"gotask-973a8\",storageBucket:\"gotask-973a8.appspot.com\",messagingSenderId:\"589835338400\",appId:\"1:589835338400:web:515ae6fc1315354658ffc5\",measurementId:\"G-CS2ZWLEKDP\"};// Initialize Firebase\nvar firebaseApp=initializeApp(firebaseConfig);export var firestore=getFirestore();///////////////////////////////////////////////\nvar express=require(\"express\");var axios=require(\"axios\");var app=express();var port=3001;app.use(express.json());app.get(\"/firestore\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(req,res){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://firestore.googleapis.com/v1/projects/gotask-973a8/databases/(default)/documents\");case 3:response=_context.sent;res.json(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);res.status(500).json({error:\"Failed to fetch data from Firestore API\"});case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());app.listen(port,function(){console.log(\"Proxy server is running on http://localhost:\".concat(port));});/////////////////////////////////////////////////\nexport var auth=getAuth();export var db=getFirestore();var userId=\"\";/////////////////////\nvar googleProvider=new GoogleAuthProvider();googleProvider.setCustomParameters({prompt:\"select_account\"});// console.log(auth);\nexport var signInWithGooglePopup=function signInWithGooglePopup(){return signInWithPopup(auth,googleProvider);};// console.log(auth);\n//////////////////////////////////////////////////\nexport var createUserDocumentFromAuth=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(userAuth){var additionalInformation,userDocRef,userSnapshot,displayName,email,createdAt,_args2=arguments;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:additionalInformation=_args2.length>1&&_args2[1]!==undefined?_args2[1]:{};if(userAuth){_context2.next=3;break;}return _context2.abrupt(\"return\");case 3:userDocRef=doc(db,\"users\",userAuth.uid);_context2.next=6;return getDoc(userDocRef);case 6:userSnapshot=_context2.sent;if(userSnapshot.exists()){_context2.next=19;break;}displayName=userAuth.displayName,email=userAuth.email;createdAt=new Date();_context2.prev=10;_context2.next=13;return setDoc(userDocRef,_objectSpread({displayName:displayName,email:email,createdAt:createdAt},additionalInformation));case 13:_context2.next=18;break;case 15:_context2.prev=15;_context2.t0=_context2[\"catch\"](10);console.log(_context2.t0);case 18:return _context2.abrupt(\"return\",userDocRef);case 19:case\"end\":return _context2.stop();}},_callee2,null,[[10,15]]);}));return function createUserDocumentFromAuth(_x3){return _ref2.apply(this,arguments);};}();///////////////////////////////////////////////\nexport var createAuthUserWithEmailAndPassword=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(email,password){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(!(!email||!password)){_context3.next=2;break;}return _context3.abrupt(\"return\");case 2:_context3.next=4;return createUserWithEmailAndPassword(auth,email,password);case 4:return _context3.abrupt(\"return\",_context3.sent);case 5:case\"end\":return _context3.stop();}},_callee3);}));return function createAuthUserWithEmailAndPassword(_x4,_x5){return _ref3.apply(this,arguments);};}();export var signInAuthUserWithEmailAndPassword=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(email,password){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(!(!email||!password)){_context4.next=2;break;}return _context4.abrupt(\"return\");case 2:_context4.next=4;return signInWithEmailAndPassword(auth,email,password);case 4:return _context4.abrupt(\"return\",_context4.sent);case 5:case\"end\":return _context4.stop();}},_callee4);}));return function signInAuthUserWithEmailAndPassword(_x6,_x7){return _ref4.apply(this,arguments);};}();export var signOutUser=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return signOut(auth);case 2:return _context5.abrupt(\"return\",_context5.sent);case 3:case\"end\":return _context5.stop();}},_callee5);}));return function signOutUser(){return _ref5.apply(this,arguments);};}();export var onAuthStateChangedListener=function onAuthStateChangedListener(callback){return onAuthStateChanged(auth,callback);};// const currentUserId = users.auth().currentUser.uid;\n// console.log(currentUserId);\n///////////// projects import export  ///////////////////\nexport var projects=[];onAuthStateChanged(auth,/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(user){var userDocRef,projectsRef,snapshot;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:if(!user){_context6.next=16;break;}userId=user.uid;userDocRef=doc(db,\"users\",userId);projectsRef=collection(userDocRef,\"projects\");_context6.prev=4;_context6.next=7;return getDocs(projectsRef);case 7:snapshot=_context6.sent;snapshot.docs.forEach(function(doc){projects.push(_objectSpread({},doc.data()));// console.log(projects);\n});_context6.next=14;break;case 11:_context6.prev=11;_context6.t0=_context6[\"catch\"](4);console.log(_context6.t0.message);case 14:_context6.next=17;break;case 16:projects=[];// console.log(\"no user logged in\");\ncase 17:case\"end\":return _context6.stop();}},_callee6,null,[[4,11]]);}));return function(_x8){return _ref6.apply(this,arguments);};}());export var updateProjects=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(e){return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:onAuthStateChanged(auth,/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(user){var userDocRef,projectsRef,projectDocRef,snapshot;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:if(!user){_context7.next=17;break;}userId=user.uid;userDocRef=doc(db,\"users\",userId);projectsRef=collection(userDocRef,\"projects\");projectDocRef=doc(projectsRef,e);_context7.prev=5;_context7.next=8;return getDoc(projectDocRef);case 8:snapshot=_context7.sent;// Use getDoc instead of getDocs for a single document\nif(snapshot.exists()){projects.push(snapshot.data());}_context7.next=15;break;case 12:_context7.prev=12;_context7.t0=_context7[\"catch\"](5);console.log(_context7.t0.message);case 15:_context7.next=18;break;case 17:projects=[];case 18:case\"end\":return _context7.stop();}},_callee7,null,[[5,12]]);}));return function(_x10){return _ref8.apply(this,arguments);};}());case 1:case\"end\":return _context8.stop();}},_callee8);}));return function updateProjects(_x9){return _ref7.apply(this,arguments);};}();//////////////////////////////////\nvar apiEndpoint=\"https://firestore.googleapis.com/v1/projects/gotask-973a8/databases/(default)/documents?key=AIzaSyDg0a3RsAo0iIaAJzwTjd7vHvGLWXqzZ00\";var jsonTest=\"https://jsonplaceholder.typicode.com/users/1/\";// console.log(userId);\nexport var apiSlice=createApi({reducerPath:\"api\",baseQuery:fetchBaseQuery({baseUrl:apiEndpoint}),tagTypes:[\"Todos\"],endpoints:function endpoints(builder){return{getTodos:builder.query({query:function query(){return\"/users\";},providesTags:[\"Todos\"]}),// getTodos: builder.query({\n//   query: async () => {\n//     // Retrieve data from Firebase\n//     const projectsCollection = collection(db, \"projects\");\n//     const querySnapshot = await getDocs(projectsCollection);\n//     projects = querySnapshot.docs.map((doc) => doc.data());\n//     // console.log(\"as\");\n//     console.log(projects);\n//     // Return the data\n//     return projects;\n//   },\n// }),\naddTodo:builder.mutation({query:function query(todo){return{url:\"\",method:\"POST\",body:todo};},invalidatesTags:[\"Todos\"]}),updateTodo:builder.mutation({query:function query(todo){return{url:\"/todos/\".concat(todo.id),method:\"PATCH\",body:todo};},invalidatesTags:[\"Todos\"]}),deleteTodo:builder.mutation({query:function query(_ref9){var id=_ref9.id;return{url:\"/todos/\".concat(id),method:\"DELETE\",body:id};},invalidatesTags:[\"Todos\"]})};}});var useGetTodosQuery=apiSlice.useGetTodosQuery,useAddTodoMutation=apiSlice.useAddTodoMutation,useUpdateTodoMutation=apiSlice.useUpdateTodoMutation,useDeleteTodoMutation=apiSlice.useDeleteTodoMutation;export{useGetTodosQuery,useAddTodoMutation,useUpdateTodoMutation,useDeleteTodoMutation};","map":{"version":3,"names":["initializeApp","createApi","fetchBaseQuery","getAuth","signInWithPopup","GoogleAuthProvider","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","onAuthStateChanged","getFirestore","doc","getDoc","getDocs","setDoc","collection","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","firestore","express","require","axios","app","port","use","json","get","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","req","res","response","wrap","_callee$","_context","prev","next","sent","data","t0","status","error","stop","_x","_x2","apply","arguments","listen","console","log","concat","auth","db","userId","googleProvider","setCustomParameters","prompt","signInWithGooglePopup","createUserDocumentFromAuth","_ref2","_callee2","userAuth","additionalInformation","userDocRef","userSnapshot","displayName","email","createdAt","_args2","_callee2$","_context2","length","undefined","abrupt","uid","exists","Date","_objectSpread","_x3","createAuthUserWithEmailAndPassword","_ref3","_callee3","password","_callee3$","_context3","_x4","_x5","signInAuthUserWithEmailAndPassword","_ref4","_callee4","_callee4$","_context4","_x6","_x7","signOutUser","_ref5","_callee5","_callee5$","_context5","onAuthStateChangedListener","callback","projects","_ref6","_callee6","user","projectsRef","snapshot","_callee6$","_context6","docs","forEach","push","message","_x8","updateProjects","_ref7","_callee8","e","_callee8$","_context8","_ref8","_callee7","projectDocRef","_callee7$","_context7","_x10","_x9","apiEndpoint","jsonTest","apiSlice","reducerPath","baseQuery","baseUrl","tagTypes","endpoints","builder","getTodos","query","providesTags","addTodo","mutation","todo","url","method","body","invalidatesTags","updateTodo","id","deleteTodo","_ref9","useGetTodosQuery","useAddTodoMutation","useUpdateTodoMutation","useDeleteTodoMutation"],"sources":["D:/Coding/React/taskmybusiness/src/utils/firebase/firebase-utils.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\n\r\nimport {\r\n  getAuth,\r\n  signInWithPopup,\r\n  GoogleAuthProvider,\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n  onAuthStateChanged,\r\n} from \"firebase/auth\";\r\n\r\nimport {\r\n  getFirestore,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  setDoc,\r\n  collection,\r\n} from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDg0a3RsAo0iIaAJzwTjd7vHvGLWXqzZ00\",\r\n  authDomain: \"gotask-973a8.firebaseapp.com\",\r\n  projectId: \"gotask-973a8\",\r\n  storageBucket: \"gotask-973a8.appspot.com\",\r\n  messagingSenderId: \"589835338400\",\r\n  appId: \"1:589835338400:web:515ae6fc1315354658ffc5\",\r\n  measurementId: \"G-CS2ZWLEKDP\",\r\n};\r\n// Initialize Firebase\r\nconst firebaseApp = initializeApp(firebaseConfig);\r\n\r\nexport const firestore = getFirestore();\r\n\r\n///////////////////////////////////////////////\r\nconst express = require(\"express\");\r\nconst axios = require(\"axios\");\r\n\r\nconst app = express();\r\nconst port = 3001;\r\n\r\napp.use(express.json());\r\n\r\napp.get(\"/firestore\", async (req, res) => {\r\n  try {\r\n    const response = await axios.get(\r\n      \"https://firestore.googleapis.com/v1/projects/gotask-973a8/databases/(default)/documents\"\r\n    );\r\n    res.json(response.data);\r\n  } catch (error) {\r\n    res.status(500).json({ error: \"Failed to fetch data from Firestore API\" });\r\n  }\r\n});\r\n\r\napp.listen(port, () => {\r\n  console.log(`Proxy server is running on http://localhost:${port}`);\r\n});\r\n\r\n/////////////////////////////////////////////////\r\nexport const auth = getAuth();\r\nexport const db = getFirestore();\r\nlet userId = \"\";\r\n\r\n/////////////////////\r\nconst googleProvider = new GoogleAuthProvider();\r\ngoogleProvider.setCustomParameters({\r\n  prompt: \"select_account\",\r\n});\r\n\r\n// console.log(auth);\r\nexport const signInWithGooglePopup = () =>\r\n  signInWithPopup(auth, googleProvider);\r\n// console.log(auth);\r\n\r\n//////////////////////////////////////////////////\r\n\r\nexport const createUserDocumentFromAuth = async (\r\n  userAuth,\r\n  additionalInformation = {}\r\n) => {\r\n  if (!userAuth) return;\r\n  const userDocRef = doc(db, \"users\", userAuth.uid);\r\n  const userSnapshot = await getDoc(userDocRef);\r\n  // console.log(userSnapshot);\r\n  // console.log(userSnapshot.exists());\r\n\r\n  // user data does not exists\r\n  if (!userSnapshot.exists()) {\r\n    const { displayName, email } = userAuth;\r\n    const createdAt = new Date();\r\n\r\n    try {\r\n      await setDoc(userDocRef, {\r\n        displayName,\r\n        email,\r\n        createdAt,\r\n        ...additionalInformation,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    return userDocRef;\r\n  }\r\n};\r\n\r\n///////////////////////////////////////////////\r\n\r\nexport const createAuthUserWithEmailAndPassword = async (email, password) => {\r\n  if (!email || !password) return;\r\n  return await createUserWithEmailAndPassword(auth, email, password);\r\n};\r\n\r\nexport const signInAuthUserWithEmailAndPassword = async (email, password) => {\r\n  if (!email || !password) return;\r\n  return await signInWithEmailAndPassword(auth, email, password);\r\n};\r\n\r\nexport const signOutUser = async () => await signOut(auth);\r\n\r\nexport const onAuthStateChangedListener = (callback) =>\r\n  onAuthStateChanged(auth, callback);\r\n\r\n// const currentUserId = users.auth().currentUser.uid;\r\n// console.log(currentUserId);\r\n\r\n///////////// projects import export  ///////////////////\r\nexport let projects = [];\r\n\r\nonAuthStateChanged(auth, async (user) => {\r\n  if (user) {\r\n    userId = user.uid;\r\n    const userDocRef = doc(db, \"users\", userId);\r\n    const projectsRef = collection(userDocRef, \"projects\");\r\n\r\n    try {\r\n      const snapshot = await getDocs(projectsRef);\r\n      snapshot.docs.forEach((doc) => {\r\n        projects.push({\r\n          ...doc.data(),\r\n        });\r\n        // console.log(projects);\r\n      });\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  } else {\r\n    projects = [];\r\n    // console.log(\"no user logged in\");\r\n  }\r\n});\r\n\r\nexport const updateProjects = async (e) => {\r\n  onAuthStateChanged(auth, async (user) => {\r\n    if (user) {\r\n      userId = user.uid;\r\n      const userDocRef = doc(db, \"users\", userId);\r\n      const projectsRef = collection(userDocRef, \"projects\");\r\n      const projectDocRef = doc(projectsRef, e);\r\n      try {\r\n        const snapshot = await getDoc(projectDocRef); // Use getDoc instead of getDocs for a single document\r\n        if (snapshot.exists()) {\r\n          projects.push(snapshot.data());\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    } else {\r\n      projects = [];\r\n    }\r\n  });\r\n};\r\n\r\n//////////////////////////////////\r\nconst apiEndpoint =\r\n  \"https://firestore.googleapis.com/v1/projects/gotask-973a8/databases/(default)/documents?key=AIzaSyDg0a3RsAo0iIaAJzwTjd7vHvGLWXqzZ00\";\r\n\r\nconst jsonTest = \"https://jsonplaceholder.typicode.com/users/1/\";\r\n// console.log(userId);\r\n\r\nexport const apiSlice = createApi({\r\n  reducerPath: \"api\",\r\n  baseQuery: fetchBaseQuery({ baseUrl: apiEndpoint }),\r\n  tagTypes: [\"Todos\"],\r\n  endpoints: (builder) => ({\r\n    getTodos: builder.query({\r\n      query: () => \"/users\",\r\n      providesTags: [\"Todos\"],\r\n    }),\r\n    // getTodos: builder.query({\r\n    //   query: async () => {\r\n    //     // Retrieve data from Firebase\r\n    //     const projectsCollection = collection(db, \"projects\");\r\n    //     const querySnapshot = await getDocs(projectsCollection);\r\n    //     projects = querySnapshot.docs.map((doc) => doc.data());\r\n    //     // console.log(\"as\");\r\n    //     console.log(projects);\r\n    //     // Return the data\r\n    //     return projects;\r\n    //   },\r\n    // }),\r\n\r\n    addTodo: builder.mutation({\r\n      query: (todo) => ({\r\n        url: \"\",\r\n        method: \"POST\",\r\n        body: todo,\r\n      }),\r\n      invalidatesTags: [\"Todos\"],\r\n    }),\r\n\r\n    updateTodo: builder.mutation({\r\n      query: (todo) => ({\r\n        url: `/todos/${todo.id}`,\r\n        method: \"PATCH\",\r\n        body: todo,\r\n      }),\r\n      invalidatesTags: [\"Todos\"],\r\n    }),\r\n\r\n    deleteTodo: builder.mutation({\r\n      query: ({ id }) => ({\r\n        url: `/todos/${id}`,\r\n        method: \"DELETE\",\r\n        body: id,\r\n      }),\r\n      invalidatesTags: [\"Todos\"],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useGetTodosQuery,\r\n  useAddTodoMutation,\r\n  useUpdateTodoMutation,\r\n  useDeleteTodoMutation,\r\n} = apiSlice;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}