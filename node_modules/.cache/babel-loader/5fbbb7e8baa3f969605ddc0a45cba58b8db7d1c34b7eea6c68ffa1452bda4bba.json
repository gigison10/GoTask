{"ast":null,"code":"import _objectSpread from\"D:/Coding/React/taskmybusiness/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Coding/React/taskmybusiness/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useState,useEffect}from\"react\";import{onAuthStateChangedListener,createUserDocumentFromAuth,onAuthStateChanged,projects,updateProjects}from\"../utils/firebase/firebase-utils.js\";//as the actual value that i want to acces\nimport{jsx as _jsx}from\"react/jsx-runtime\";export var UserContext=/*#__PURE__*/createContext({currentUser:null,setCurrentUser:function setCurrentUser(){return null;}});export var ProjectsContext=/*#__PURE__*/createContext({currentProject:null,setCurrentProject:function setCurrentProject(){return null;}});export var updateProjectsContext=/*#__PURE__*/createContext({setUpdateCurrentProjects:function setUpdateCurrentProjects(e){updateProjects(e);console.log(\"update works\");}});export var UserProvider=function UserProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var value={currentUser:currentUser,setCurrentUser:setCurrentUser};var _useState3=useState(projects),_useState4=_slicedToArray(_useState3,2),currentProject=_useState4[0],setCurrentProject=_useState4[1];var projectsValue={currentProject:currentProject,setCurrentProject:setCurrentProject};var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),count=_useState6[0],setCount=_useState6[1];useEffect(function(){var unsubscribe=onAuthStateChangedListener(function(user){if(user){createUserDocumentFromAuth(user);setCurrentProject(projects);}else{setCurrentProject([]);}setCurrentUser(user);});return unsubscribe;},[currentUser,projects,updateProjects]);return/*#__PURE__*/_jsx(ProjectsContext.Provider,{value:projectsValue,children:/*#__PURE__*/_jsx(UserContext.Provider,{value:_objectSpread({},value),children:children})});};","map":{"version":3,"names":["createContext","useState","useEffect","onAuthStateChangedListener","createUserDocumentFromAuth","onAuthStateChanged","projects","updateProjects","jsx","_jsx","UserContext","currentUser","setCurrentUser","ProjectsContext","currentProject","setCurrentProject","updateProjectsContext","setUpdateCurrentProjects","e","console","log","UserProvider","_ref","children","_useState","_useState2","_slicedToArray","value","_useState3","_useState4","projectsValue","_useState5","_useState6","count","setCount","unsubscribe","user","Provider","_objectSpread"],"sources":["D:/Coding/React/taskmybusiness/src/contexts/context.js"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\r\nimport {\r\n  onAuthStateChangedListener,\r\n  createUserDocumentFromAuth,\r\n  onAuthStateChanged,\r\n  projects,\r\n  updateProjects,\r\n} from \"../utils/firebase/firebase-utils.js\";\r\n//as the actual value that i want to acces\r\n\r\nexport const UserContext = createContext({\r\n  currentUser: null,\r\n  setCurrentUser: () => null,\r\n});\r\n\r\nexport const ProjectsContext = createContext({\r\n  currentProject: null,\r\n  setCurrentProject: () => null,\r\n});\r\n\r\nexport const updateProjectsContext = createContext({\r\n  setUpdateCurrentProjects: (e) => {\r\n    updateProjects(e);\r\n    console.log(\"update works\");\r\n  },\r\n});\r\n\r\nexport const UserProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const value = { currentUser, setCurrentUser };\r\n  const [currentProject, setCurrentProject] = useState(projects);\r\n  const projectsValue = { currentProject, setCurrentProject };\r\n  const [count, setCount] = useState(1);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChangedListener((user) => {\r\n      if (user) {\r\n        createUserDocumentFromAuth(user);\r\n        setCurrentProject(projects);\r\n      } else {\r\n        setCurrentProject([]);\r\n      }\r\n      setCurrentUser(user);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [currentUser, projects, updateProjects]);\r\n\r\n  return (\r\n    <ProjectsContext.Provider value={projectsValue}>\r\n      <UserContext.Provider value={{ ...value }}>\r\n        {children}\r\n      </UserContext.Provider>\r\n    </ProjectsContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"uOAAA,OAASA,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC1D,OACEC,0BAA0B,CAC1BC,0BAA0B,CAC1BC,kBAAkB,CAClBC,QAAQ,CACRC,cAAc,KACT,qCAAqC,CAC5C;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBAEA,MAAO,IAAM,CAAAC,WAAW,cAAGV,aAAa,CAAC,CACvCW,WAAW,CAAE,IAAI,CACjBC,cAAc,CAAE,SAAAA,eAAA,QAAM,KAAI,EAC5B,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAC,eAAe,cAAGb,aAAa,CAAC,CAC3Cc,cAAc,CAAE,IAAI,CACpBC,iBAAiB,CAAE,SAAAA,kBAAA,QAAM,KAAI,EAC/B,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAC,qBAAqB,cAAGhB,aAAa,CAAC,CACjDiB,wBAAwB,CAAE,SAAAA,yBAACC,CAAC,CAAK,CAC/BX,cAAc,CAACW,CAAC,CAAC,CACjBC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAC7B,CACF,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACrC,IAAAC,SAAA,CAAsCvB,QAAQ,CAAC,IAAI,CAAC,CAAAwB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7Cb,WAAW,CAAAc,UAAA,IAAEb,cAAc,CAAAa,UAAA,IAClC,GAAM,CAAAE,KAAK,CAAG,CAAEhB,WAAW,CAAXA,WAAW,CAAEC,cAAc,CAAdA,cAAe,CAAC,CAC7C,IAAAgB,UAAA,CAA4C3B,QAAQ,CAACK,QAAQ,CAAC,CAAAuB,UAAA,CAAAH,cAAA,CAAAE,UAAA,IAAvDd,cAAc,CAAAe,UAAA,IAAEd,iBAAiB,CAAAc,UAAA,IACxC,GAAM,CAAAC,aAAa,CAAG,CAAEhB,cAAc,CAAdA,cAAc,CAAEC,iBAAiB,CAAjBA,iBAAkB,CAAC,CAC3D,IAAAgB,UAAA,CAA0B9B,QAAQ,CAAC,CAAC,CAAC,CAAA+B,UAAA,CAAAN,cAAA,CAAAK,UAAA,IAA9BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAEtB9B,SAAS,CAAC,UAAM,CACd,GAAM,CAAAiC,WAAW,CAAGhC,0BAA0B,CAAC,SAACiC,IAAI,CAAK,CACvD,GAAIA,IAAI,CAAE,CACRhC,0BAA0B,CAACgC,IAAI,CAAC,CAChCrB,iBAAiB,CAACT,QAAQ,CAAC,CAC7B,CAAC,IAAM,CACLS,iBAAiB,CAAC,EAAE,CAAC,CACvB,CACAH,cAAc,CAACwB,IAAI,CAAC,CACtB,CAAC,CAAC,CAEF,MAAO,CAAAD,WAAW,CACpB,CAAC,CAAE,CAACxB,WAAW,CAAEL,QAAQ,CAAEC,cAAc,CAAC,CAAC,CAE3C,mBACEE,IAAA,CAACI,eAAe,CAACwB,QAAQ,EAACV,KAAK,CAAEG,aAAc,CAAAP,QAAA,cAC7Cd,IAAA,CAACC,WAAW,CAAC2B,QAAQ,EAACV,KAAK,CAAAW,aAAA,IAAOX,KAAK,CAAG,CAAAJ,QAAA,CACvCA,QAAQ,CACW,CAAC,CACC,CAAC,CAE/B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}