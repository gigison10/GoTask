{"ast":null,"code":"// Packages\nvar retrier = require('retry');\nfunction retry(fn, opts) {\n  function run(resolve, reject) {\n    var options = opts || {};\n    var op;\n\n    // Default `randomize` to true\n    if (!('randomize' in options)) {\n      options.randomize = true;\n    }\n    op = retrier.operation(options);\n\n    // We allow the user to abort retrying\n    // this makes sense in the cases where\n    // knowledge is obtained that retrying\n    // would be futile (e.g.: auth errors)\n\n    function bail(err) {\n      reject(err || new Error('Aborted'));\n    }\n    function onError(err, num) {\n      if (err.bail) {\n        bail(err);\n        return;\n      }\n      if (!op.retry(err)) {\n        reject(op.mainError());\n      } else if (options.onRetry) {\n        options.onRetry(err, num);\n      }\n    }\n    function runAttempt(num) {\n      var val;\n      try {\n        val = fn(bail, num);\n      } catch (err) {\n        onError(err, num);\n        return;\n      }\n      Promise.resolve(val).then(resolve).catch(function catchIt(err) {\n        onError(err, num);\n      });\n    }\n    op.attempt(runAttempt);\n  }\n  return new Promise(run);\n}\nmodule.exports = retry;","map":{"version":3,"names":["retrier","require","retry","fn","opts","run","resolve","reject","options","op","randomize","operation","bail","err","Error","onError","num","mainError","onRetry","runAttempt","val","Promise","then","catch","catchIt","attempt","module","exports"],"sources":["D:/Coding/React/taskmybusiness/node_modules/async-retry/lib/index.js"],"sourcesContent":["// Packages\nvar retrier = require('retry');\n\nfunction retry(fn, opts) {\n  function run(resolve, reject) {\n    var options = opts || {};\n    var op;\n\n    // Default `randomize` to true\n    if (!('randomize' in options)) {\n      options.randomize = true;\n    }\n\n    op = retrier.operation(options);\n\n    // We allow the user to abort retrying\n    // this makes sense in the cases where\n    // knowledge is obtained that retrying\n    // would be futile (e.g.: auth errors)\n\n    function bail(err) {\n      reject(err || new Error('Aborted'));\n    }\n\n    function onError(err, num) {\n      if (err.bail) {\n        bail(err);\n        return;\n      }\n\n      if (!op.retry(err)) {\n        reject(op.mainError());\n      } else if (options.onRetry) {\n        options.onRetry(err, num);\n      }\n    }\n\n    function runAttempt(num) {\n      var val;\n\n      try {\n        val = fn(bail, num);\n      } catch (err) {\n        onError(err, num);\n        return;\n      }\n\n      Promise.resolve(val)\n        .then(resolve)\n        .catch(function catchIt(err) {\n          onError(err, num);\n        });\n    }\n\n    op.attempt(runAttempt);\n  }\n\n  return new Promise(run);\n}\n\nmodule.exports = retry;\n"],"mappings":"AAAA;AACA,IAAIA,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAE9B,SAASC,KAAKA,CAACC,EAAE,EAAEC,IAAI,EAAE;EACvB,SAASC,GAAGA,CAACC,OAAO,EAAEC,MAAM,EAAE;IAC5B,IAAIC,OAAO,GAAGJ,IAAI,IAAI,CAAC,CAAC;IACxB,IAAIK,EAAE;;IAEN;IACA,IAAI,EAAE,WAAW,IAAID,OAAO,CAAC,EAAE;MAC7BA,OAAO,CAACE,SAAS,GAAG,IAAI;IAC1B;IAEAD,EAAE,GAAGT,OAAO,CAACW,SAAS,CAACH,OAAO,CAAC;;IAE/B;IACA;IACA;IACA;;IAEA,SAASI,IAAIA,CAACC,GAAG,EAAE;MACjBN,MAAM,CAACM,GAAG,IAAI,IAAIC,KAAK,CAAC,SAAS,CAAC,CAAC;IACrC;IAEA,SAASC,OAAOA,CAACF,GAAG,EAAEG,GAAG,EAAE;MACzB,IAAIH,GAAG,CAACD,IAAI,EAAE;QACZA,IAAI,CAACC,GAAG,CAAC;QACT;MACF;MAEA,IAAI,CAACJ,EAAE,CAACP,KAAK,CAACW,GAAG,CAAC,EAAE;QAClBN,MAAM,CAACE,EAAE,CAACQ,SAAS,CAAC,CAAC,CAAC;MACxB,CAAC,MAAM,IAAIT,OAAO,CAACU,OAAO,EAAE;QAC1BV,OAAO,CAACU,OAAO,CAACL,GAAG,EAAEG,GAAG,CAAC;MAC3B;IACF;IAEA,SAASG,UAAUA,CAACH,GAAG,EAAE;MACvB,IAAII,GAAG;MAEP,IAAI;QACFA,GAAG,GAAGjB,EAAE,CAACS,IAAI,EAAEI,GAAG,CAAC;MACrB,CAAC,CAAC,OAAOH,GAAG,EAAE;QACZE,OAAO,CAACF,GAAG,EAAEG,GAAG,CAAC;QACjB;MACF;MAEAK,OAAO,CAACf,OAAO,CAACc,GAAG,CAAC,CACjBE,IAAI,CAAChB,OAAO,CAAC,CACbiB,KAAK,CAAC,SAASC,OAAOA,CAACX,GAAG,EAAE;QAC3BE,OAAO,CAACF,GAAG,EAAEG,GAAG,CAAC;MACnB,CAAC,CAAC;IACN;IAEAP,EAAE,CAACgB,OAAO,CAACN,UAAU,CAAC;EACxB;EAEA,OAAO,IAAIE,OAAO,CAAChB,GAAG,CAAC;AACzB;AAEAqB,MAAM,CAACC,OAAO,GAAGzB,KAAK"},"metadata":{},"sourceType":"script","externalDependencies":[]}